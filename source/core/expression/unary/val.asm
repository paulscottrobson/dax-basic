; ***************************************************************************************
; ***************************************************************************************
;
;		Name : 		val.asm
;		Author :	Paul Robson (paul@robsons.org.uk)
;		Date : 		3rd June 2022
;		Reviewed :	No
;		Purpose :	String->Integer conversion.
;
; ***************************************************************************************
; ***************************************************************************************

; ***************************************************************************************
;
;								val( unary function
;
; ***************************************************************************************

Unary_Val:	;; [val]
		call 	EvaluateStringTerm 			; get the string into UHL
		push 	hl 							; copy to BC
		pop 	bc
		ld 		a,-10 						; base 10, signed.
		call 	Int32FromString 			; get the integer part.
		ld 		c,XTYPE_INTEGER 			; it's an integer 
		ret		z 							; okay
		ERR_BADVALUE

; ***************************************************************************************
;
;									Changes and Updates
;
; ***************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ***************************************************************************************
		